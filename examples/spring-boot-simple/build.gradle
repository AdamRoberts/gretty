buildscript {
  repositories {
    mavenLocal()
    jcenter()
  }

  dependencies {
    classpath 'org.akhikhl.gretty:gretty:1.0.0'
  }
}

apply plugin: 'groovy'
apply plugin: 'org.akhikhl.gretty'

apply from: rootProject.file('integrationTests.gradle') // remove this to disable integration tests

version = '1.0.0'

dependencies {
  compile 'org.codehaus.groovy:groovy-all:2.3.3'
}

gretty {
  springBoot = true
}

ext {
  integrationTestContainers = ['jetty8', 'jetty9', 'tomcat7', 'tomcat8']
}

rootProject.tasks.testAll.dependsOn { project.tasks.integrationTestAllContainers }
