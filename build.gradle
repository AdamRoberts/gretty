ext {
  project_id = 'gretty'
  project_description = 'Advanced gradle plugin for running web-apps on jetty'
  developer_id = 'akhikhl'
  developer_name = 'Andrey Hihlovskiy'
  project_website = "https://github.com/${developer_id}/${project_id}"
  project_scm = "scm:git@github.com:${developer_id}/${project_id}.git"
  license = 'The MIT License'
  license_url = "https://raw.github.com/${developer_id}/${project_id}/master/license.txt"
  labels = ['gretty', 'jetty', 'gradle', 'plugin', 'spring', 'spring-boot']
}

group = 'org.akhikhl.gretty'
version = '1.0.0'
description = ext.project_description

apply plugin: 'base' // import clean task

task('build')

task('buildExamples', type: GradleBuild) {
  dir = file('examples')
  tasks = [ 'build' ]
  project.tasks.build.finalizedBy it
}

task('integrationTest', dependsOn: build)

task('integrationTestExamples', type: GradleBuild) {
  dependsOn buildExamples
  dir = file('examples')
  tasks = [ 'integrationTest' ]
  project.tasks.integrationTest.finalizedBy it
}

task('cleanExamples', type: GradleBuild) {
  dir = file('examples')
  tasks = [ 'clean' ]
  project.tasks.clean.dependsOn it
}

